module.exports=[89098,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(20005),h=a.i(70106);let i=(0,h.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var j=a.i(83077),k=a.i(25015),l=a.i(8406),m=a.i(61545),n=a.i(1027),o=a.i(65733),p=a.i(17171),q=a.i(7554),r=a.i(70121),s=a.i(50104),t=a.i(30553),u=a.i(24050),v=a.i(25152),w=a.i(7827),x=a.i(3688),y=a.i(77994),z=a.i(77192),A="Radio",[B,C]=(0,s.createContextScope)(A),[D,E]=B(A),F=c.forwardRef((a,d)=>{let{__scopeRadio:e,name:f,checked:g=!1,required:h,disabled:i,value:j="on",onCheck:k,form:l,...m}=a,[n,o]=c.useState(null),p=(0,r.useComposedRefs)(d,a=>o(a)),s=c.useRef(!1),u=!n||l||!!n.closest("form");return(0,b.jsxs)(D,{scope:e,checked:g,disabled:i,children:[(0,b.jsx)(t.Primitive.button,{type:"button",role:"radio","aria-checked":g,"data-state":J(g),"data-disabled":i?"":void 0,disabled:i,value:j,...m,ref:p,onClick:(0,q.composeEventHandlers)(a.onClick,a=>{g||k?.(),u&&(s.current=a.isPropagationStopped(),s.current||a.stopPropagation())})}),u&&(0,b.jsx)(I,{control:n,bubbles:!s.current,name:f,value:j,checked:g,required:h,disabled:i,form:l,style:{transform:"translateX(-100%)"}})]})});F.displayName=A;var G="RadioIndicator",H=c.forwardRef((a,c)=>{let{__scopeRadio:d,forceMount:e,...f}=a,g=E(G,d);return(0,b.jsx)(z.Presence,{present:e||g.checked,children:(0,b.jsx)(t.Primitive.span,{"data-state":J(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c})})});H.displayName=G;var I=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,h=c.useRef(null),i=(0,y.usePrevious)(e),j=(0,x.useSize)(d);return c.useEffect(()=>{let a=h.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[i,e,f]),(0,b.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:h,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function J(a){return a?"checked":"unchecked"}var K=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L="RadioGroup",[M,N]=(0,s.createContextScope)(L,[u.createRovingFocusGroupScope,C]),O=(0,u.createRovingFocusGroupScope)(),P=C(),[Q,R]=M(L),S=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,name:e,defaultValue:f,value:g,required:h=!1,disabled:i=!1,orientation:j,dir:k,loop:l=!0,onValueChange:m,...n}=a,o=O(d),p=(0,w.useDirection)(k),[q,r]=(0,v.useControllableState)({prop:g,defaultProp:f,onChange:m});return(0,b.jsx)(Q,{scope:d,name:e,required:h,disabled:i,value:q,onValueChange:r,children:(0,b.jsx)(u.Root,{asChild:!0,...o,orientation:j,dir:p,loop:l,children:(0,b.jsx)(t.Primitive.div,{role:"radiogroup","aria-required":h,"aria-orientation":j,"data-disabled":i?"":void 0,dir:p,...n,ref:c})})})});S.displayName=L;var T="RadioGroupItem",U=c.forwardRef((a,d)=>{let{__scopeRadioGroup:e,disabled:f,...g}=a,h=R(T,e),i=h.disabled||f,j=O(e),k=P(e),l=c.useRef(null),m=(0,r.useComposedRefs)(d,l),n=h.value===g.value,o=c.useRef(!1);return c.useEffect(()=>{let a=a=>{K.includes(a.key)&&(o.current=!0)},b=()=>o.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,b.jsx)(u.Item,{asChild:!0,...j,focusable:!i,active:n,children:(0,b.jsx)(F,{disabled:i,required:h.required,checked:n,...k,...g,name:h.name,ref:m,onCheck:()=>h.onValueChange(g.value),onKeyDown:(0,q.composeEventHandlers)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,q.composeEventHandlers)(g.onFocus,()=>{o.current&&l.current?.click()})})})});U.displayName=T;var V=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,...e}=a,f=P(d);return(0,b.jsx)(H,{...f,...e,ref:c})});V.displayName="RadioGroupIndicator";let W=(0,h.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var X=a.i(97895);function Y({className:a,...c}){return(0,b.jsx)(S,{"data-slot":"radio-group",className:(0,X.cn)("grid gap-3",a),...c})}function Z({className:a,...c}){return(0,b.jsx)(U,{"data-slot":"radio-group-item",className:(0,X.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(V,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,b.jsx)(W,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function $(){let a,[h,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)("medium"),[B,C]=(0,c.useState)(!1),D=(0,d.useRouter)();(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/me");if(!a.ok)return void D.push("/play/login");let b=await a.json().catch(()=>null),c=b?.player;if(!c)return void D.push("/play/login");if(s(c),u(c),!c.is_active){await fetch("/api/auth/logout",{method:"POST"}).catch(()=>null),D.push("/play/login");return}try{await fetch("/api/player/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"dashboard_visit"})})}catch(a){console.error("[v0] Failed to log activity:",a)}let d=await fetch("/api/subjects"),e=await d.json().catch(()=>[]);if(Array.isArray(e)&&e.length>0){q(e);let a=Math.floor(Math.random()*e.length);y(e[a].id)}}finally{w(!1)}})()},[D]);let E=async()=>{if(console.log("[v0] Play Now clicked",{selectedSubject:x,selectedDifficulty:z}),!x){console.log("[v0] No subject selected"),alert("Please select a subject first");return}if(!t?.id){console.error("[v0] No player record found"),alert("Player profile not found. Please refresh the page or log in again."),D.push("/play/login");return}try{let a=await fetch("/api/game/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject_id:x,difficulty:z,is_demo:!1})}),b=await a.json().catch(()=>({}));if(!a.ok)throw Error(b?.error||"Failed to start game");D.push(`/play/game/${b.session_id}`)}catch(a){console.error("[v0] Failed to start game",a),alert(a instanceof Error?a.message:"Failed to start game. Please try again.")}},F=async()=>{await fetch("/api/auth/logout",{method:"POST"}).catch(()=>null),D.push("/")};return v?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,b.jsx)("div",{className:"text-lg text-white",children:"Loading..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-800 to-blue-900 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-10",children:["SCIENCE","BRAIN","PUZZLE","WORD","GAME","LEARN","FUN","QUIZ"].map((a,c)=>(0,b.jsx)("div",{className:"absolute text-4xl font-bold text-white animate-float",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`,animationDelay:`${.5*c}s`,animationDuration:`${15+10*Math.random()}s`},children:a},c))}),(0,b.jsxs)("div",{className:"container relative z-10 mx-auto p-4 sm:p-6 max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,b.jsx)(l.Sparkles,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-400"}),"Ready to Play?"]}),(0,b.jsxs)("p",{className:"text-sm sm:text-base text-gray-300",children:["Welcome back, ",t?.display_name||"Player","!"]})]}),(0,b.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>D.push("/play/leaderboard"),className:"flex-1 sm:flex-none",children:[(0,b.jsx)(j.Trophy,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Leaderboard"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Scores"})]}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:F,className:"flex-1 sm:flex-none bg-transparent",children:[(0,b.jsx)(g.LogOut,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Logout"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Exit"})]})]})]}),(0,b.jsx)(f.Card,{className:"bg-slate-800/90 backdrop-blur border-slate-700 shadow-2xl mb-6",children:(0,b.jsxs)(f.CardContent,{className:"p-6 sm:p-8 md:p-12 text-center",children:[(0,b.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,b.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,b.jsx)(m.Brain,{className:"h-16 w-16 sm:h-20 sm:w-20 md:h-24 md:w-24 mx-auto text-emerald-400 animate-pulse"}),(0,b.jsx)(n.Zap,{className:"h-8 w-8 sm:h-10 sm:w-10 absolute -top-2 -right-2 text-yellow-400 animate-bounce"}),(0,b.jsx)(n.Zap,{className:"h-6 w-6 sm:h-8 sm:w-8 absolute -bottom-1 -left-1 text-yellow-300 animate-pulse"})]}),(0,b.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-3 sm:mb-4",children:"Start Your Challenge!"}),(0,b.jsxs)("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 mb-2",children:["Subject: ",(0,b.jsx)("span",{className:"text-emerald-400 font-semibold",children:(a=h.find(a=>a.id===x),a?.name||"Random")})]}),(0,b.jsxs)("p",{className:"text-sm sm:text-base text-gray-400",children:["Difficulty: ",(()=>{switch(z){case"easy":return"Easy (1 gap)";case"medium":return"Medium (2 gaps)";case"hard":return"Hard (3 gaps)";default:return"Medium"}})()]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-stretch sm:items-center",children:[(0,b.jsxs)(e.Button,{size:"lg",onClick:E,disabled:!x,className:"bg-gradient-to-r from-emerald-500 to-blue-600 hover:from-emerald-600 hover:to-blue-700 text-white font-bold py-4 sm:py-6 md:py-8 text-lg sm:text-xl md:text-2xl h-auto shadow-lg hover:shadow-xl transition-all",children:[(0,b.jsx)(k.Play,{className:"mr-2 h-5 w-5 sm:h-6 sm:w-6"}),"Play Now"]}),(0,b.jsxs)(o.Dialog,{open:B,onOpenChange:C,children:[(0,b.jsx)(o.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",size:"lg",className:"py-4 sm:py-6 md:py-8 h-auto bg-transparent",children:[(0,b.jsx)(i,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),(0,b.jsx)("span",{className:"text-base sm:text-lg",children:"Change Mode"})]})}),(0,b.jsxs)(o.DialogContent,{className:"bg-slate-800 border-slate-700 text-white max-w-md",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{className:"text-xl sm:text-2xl",children:"Customize Your Game"}),(0,b.jsx)(o.DialogDescription,{className:"text-gray-400",children:"Choose your subject and difficulty level"})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(p.Label,{className:"text-base font-semibold",children:"Subject"}),(0,b.jsx)(Y,{value:x,onValueChange:y,children:h.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(Z,{value:a.id,id:a.id}),(0,b.jsx)(p.Label,{htmlFor:a.id,className:"cursor-pointer",children:a.name})]},a.id))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(p.Label,{className:"text-base font-semibold",children:"Difficulty"}),(0,b.jsxs)(Y,{value:z,onValueChange:A,children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(Z,{value:"easy",id:"easy"}),(0,b.jsx)(p.Label,{htmlFor:"easy",className:"cursor-pointer",children:"Easy (1 missing letter)"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(Z,{value:"medium",id:"medium"}),(0,b.jsx)(p.Label,{htmlFor:"medium",className:"cursor-pointer",children:"Medium (2 missing letters)"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(Z,{value:"hard",id:"hard"}),(0,b.jsx)(p.Label,{htmlFor:"hard",className:"cursor-pointer",children:"Hard (3 missing letters)"})]})]})]})]}),(0,b.jsx)(e.Button,{onClick:()=>C(!1),className:"w-full bg-emerald-600 hover:bg-emerald-700",children:"Apply Settings"})]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,b.jsx)(f.Card,{className:"bg-slate-800/90 backdrop-blur border-slate-700",children:(0,b.jsxs)(f.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:"Game Mode"}),(0,b.jsx)("p",{className:"text-base sm:text-lg font-bold text-white",children:"Random Play"})]})}),(0,b.jsx)(f.Card,{className:"bg-slate-800/90 backdrop-blur border-slate-700",children:(0,b.jsxs)(f.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:"Words per Game"}),(0,b.jsx)("p",{className:"text-base sm:text-lg font-bold text-emerald-400",children:"5 Words"})]})}),(0,b.jsx)(f.Card,{className:"bg-slate-800/90 backdrop-blur border-slate-700 col-span-2 sm:col-span-1",children:(0,b.jsxs)(f.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:"Your Status"}),(0,b.jsx)("p",{className:"text-base sm:text-lg font-bold text-green-400",children:"Ready!"})]})})]})]})]})}a.s(["default",()=>$],89098)}];

//# sourceMappingURL=app_play_dashboard_page_tsx_0fa4cbc7._.js.map