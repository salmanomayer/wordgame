(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,e=>{"use strict";var t=e.i(43476),a=e.i(91918),s=e.i(25913),r=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function n({className:e,variant:s,size:n,asChild:d=!1,...l}){let c=d?a.Slot:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,r.cn)(i({variant:s,size:n,className:e})),...l})}e.s(["Button",()=>n])},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},64030,e=>{"use strict";let t=(0,e.i(75254).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["Trophy",()=>t],64030)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},31343,e=>{"use strict";let t=(0,e.i(75254).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);e.s(["Play",()=>t],31343)},17631,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(70065),i=e.i(67881),n=e.i(31343),d=e.i(71689),l=e.i(64030);function c(){let e=(0,s.useRouter)(),[c,o]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{if(!(await fetch("/api/auth/me")).ok)return void e.push("/play/login");let t=await fetch("/api/player/games"),a=await t.json().catch(()=>({}));t.ok&&Array.isArray(a.games)?o(a.games):o([])}finally{u(!1)}})()},[e]);let m=async t=>{let a=t.subjects[0]?.id;if(!a)return void alert("This game has no available subjects");try{let s=await fetch("/api/game/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject_id:a,difficulty:t.difficulty||"medium",game_id:t.id,is_demo:!1})}),r=await s.json().catch(()=>({}));if(!s.ok)throw Error(r?.error||"Failed to start game");e.push(`/play/game/${r.session_id}`)}catch(e){alert(e instanceof Error?e.message:"Failed to start game")}};return h?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-950 via-blue-950 to-emerald-950",children:(0,t.jsx)("div",{className:"text-lg text-white",children:"Loading games..."})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-emerald-950 p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-5xl py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)(i.Button,{variant:"ghost",className:"text-white hover:bg-white/10",onClick:()=>e.push("/play/dashboard"),children:[(0,t.jsx)(d.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,t.jsxs)(i.Button,{variant:"outline",className:"text-white border-white/20 hover:bg-white/10",onClick:()=>e.push("/play/leaderboard"),children:[(0,t.jsx)(l.Trophy,{className:"mr-2 h-4 w-4"}),"Leaderboard"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:"Challenge Game"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Pick a game created by admin and start playing"})]}),0===c.length?(0,t.jsx)(r.Card,{className:"bg-white/10 border-white/20",children:(0,t.jsx)(r.CardContent,{className:"p-6 text-center text-white",children:"No games available"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,t.jsxs)(r.Card,{className:"bg-white/10 border-white/20 text-white",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-white",children:e.title})}),(0,t.jsxs)(r.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"text-slate-300 text-sm",children:["Difficulty: ",(0,t.jsx)("span",{className:"text-white",children:e.difficulty||"medium"})]}),(0,t.jsxs)("div",{className:"text-slate-300 text-sm",children:["Words: ",(0,t.jsx)("span",{className:"text-white",children:e.word_count})]}),(0,t.jsxs)("div",{className:"text-slate-300 text-sm",children:["Stages: ",(0,t.jsx)("span",{className:"text-white",children:e.stage_count})]}),(0,t.jsxs)("div",{className:"text-slate-300 text-sm",children:["Subjects:"," ",(0,t.jsx)("span",{className:"text-white",children:e.subjects.length>0?e.subjects.map(e=>e.name).join(", "):"None"})]}),(0,t.jsxs)(i.Button,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:()=>m(e),children:[(0,t.jsx)(n.Play,{className:"mr-2 h-4 w-4"}),"Play"]})]})]},e.id))})]})})}e.s(["default",()=>c])}]);