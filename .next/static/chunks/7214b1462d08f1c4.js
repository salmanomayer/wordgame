(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,type:r,...s}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},10708,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),s=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var l=e.i(47163);function n({className:e,...a}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],10708)},78784,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["CheckIcon",()=>t],78784)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},92270,e=>{"use strict";let t=(0,e.i(75254).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOut",()=>t],92270)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>n,"CardHeader",()=>s,"CardTitle",()=>l])},75254,e=>{"use strict";var t=e.i(71645);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...r,width:s,height:s,stroke:e,strokeWidth:n?24*Number(l)/Number(s):l,className:a("lucide",i),...d},[...c.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(o)?o:[o]])),l=(e,r)=>{let l=(0,t.forwardRef)(({className:l,...n},i)=>(0,t.createElement)(s,{ref:i,iconNode:r,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,l),...n}));return l.displayName=`${e}`,l};e.s(["default",()=>l],75254)},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),r=e.i(91918),s=e.i(43476),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let l=t.forwardRef((e,t)=>{let{asChild:l,...n}=e,i=l?r.Slot:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...n,ref:t})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{});function n(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>n])},30030,e=>{"use strict";var t=e.i(71645),a=e.i(43476);function r(e,r){let s=t.createContext(r),l=e=>{let{children:r,...l}=e,n=t.useMemo(()=>l,Object.values(l));return(0,a.jsx)(s.Provider,{value:n,children:r})};return l.displayName=e+"Provider",[l,function(a){let l=t.useContext(s);if(l)return l;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function s(e,r=[]){let l=[],n=()=>{let a=l.map(e=>t.createContext(e));return function(r){let s=r?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(r,s){let n=t.createContext(s),i=l.length;l=[...l,s];let o=r=>{let{scope:s,children:l,...o}=r,c=s?.[e]?.[i]||n,d=t.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:d,children:l})};return o.displayName=r+"Provider",[o,function(a,l){let o=l?.[e]?.[i]||n,c=t.useContext(o);if(c)return c;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${r}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:s}),[s])}};return r.scopeName=a.scopeName,r}(n,...r)]}e.s(["createContext",()=>r,"createContextScope",()=>s])},81140,34620,10772,30207,69340,96626,e=>{"use strict";function t(e,a,{checkForDefaultPrevented:r=!0}={}){return function(t){if(e?.(t),!1===r||!t.defaultPrevented)return a?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var a=e.i(71645),r=globalThis?.document?a.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r],34620);var s=a["useId".toString()]||(()=>void 0),l=0;function n(e){let[t,n]=a.useState(s());return r(()=>{e||n(e=>e??String(l++))},[e]),e||(t?`radix-${t}`:"")}function i(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}function o({prop:e,defaultProp:t,onChange:r=()=>{}}){let[s,l]=function({defaultProp:e,onChange:t}){let r=a.useState(e),[s]=r,l=a.useRef(s),n=i(t);return a.useEffect(()=>{l.current!==s&&(n(s),l.current=s)},[s,l,n]),r}({defaultProp:t,onChange:r}),n=void 0!==e,o=n?e:s,c=i(r);return[o,a.useCallback(t=>{if(n){let a="function"==typeof t?t(e):t;a!==e&&c(a)}else l(t)},[n,e,l,c])]}e.s(["useId",()=>n],10772),e.s(["useCallbackRef",()=>i],30207),e.s(["useControllableState",()=>o],69340);var c=e.i(20783),d=e=>{var t;let s,l,{present:n,children:i}=e,o=function(e){var t,s;let[l,n]=a.useState(),i=a.useRef({}),o=a.useRef(e),c=a.useRef("none"),[d,m]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>s[e][t]??e,t));return a.useEffect(()=>{let e=u(i.current);c.current="mounted"===d?e:"none"},[d]),r(()=>{let t=i.current,a=o.current;if(a!==e){let r=c.current,s=u(t);e?m("MOUNT"):"none"===s||t?.display==="none"?m("UNMOUNT"):a&&r!==s?m("ANIMATION_OUT"):m("UNMOUNT"),o.current=e}},[e,m]),r(()=>{if(l){let e,t=l.ownerDocument.defaultView??window,a=a=>{let r=u(i.current).includes(a.animationName);if(a.target===l&&r&&(m("ANIMATION_END"),!o.current)){let a=l.style.animationFillMode;l.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===l.style.animationFillMode&&(l.style.animationFillMode=a)})}},r=e=>{e.target===l&&(c.current=u(i.current))};return l.addEventListener("animationstart",r),l.addEventListener("animationcancel",a),l.addEventListener("animationend",a),()=>{t.clearTimeout(e),l.removeEventListener("animationstart",r),l.removeEventListener("animationcancel",a),l.removeEventListener("animationend",a)}}m("ANIMATION_END")},[l,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(e=>{e&&(i.current=getComputedStyle(e)),n(e)},[])}}(n),d="function"==typeof i?i({present:o.isPresent}):a.Children.only(i),m=(0,c.useComposedRefs)(o.ref,(t=d,(l=(s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?t.ref:(l=(s=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||o.isPresent?a.cloneElement(d,{ref:m}):null};function u(e){return e?.animationName||"none"}d.displayName="Presence",e.s(["Presence",()=>d],96626)},99682,e=>{"use strict";var t=e.i(71645);function a(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["usePrevious",()=>a])},99602,75558,25063,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["ArrowUpDown",()=>a],99602);let r=(0,t.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>r],75558);let s=(0,t.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>s],25063)},73375,63059,19897,31026,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>a],73375);let r=(0,t.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>r],63059);let s=(0,t.default)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);e.s(["ChevronsLeft",()=>s],19897);let l=(0,t.default)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);e.s(["ChevronsRight",()=>l],31026)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},48196,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(29946),l=e.i(11522),n=e.i(47627),i=e.i(70065),o=e.i(67881),c=e.i(23750),d=e.i(10708),u=e.i(27612),m=e.i(75254);let h=(0,m.default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),p=(0,m.default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),x=(0,m.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),f=(0,m.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var w=e.i(99602),v=e.i(75558),y=e.i(25063),g=e.i(55436),j=e.i(73375),N=e.i(63059),b=e.i(19897),C=e.i(31026),k=e.i(30374),A=e.i(62870),T=e.i(7151);function S(){let[e,m]=(0,a.useState)([]),[S,_]=(0,a.useState)(!0),[D,E]=(0,a.useState)(""),[P,M]=(0,a.useState)(1),[U,L]=(0,a.useState)("20"),[R,I]=(0,a.useState)(0),[$,O]=(0,a.useState)("created_at"),[H,B]=(0,a.useState)("desc"),[z,F]=(0,a.useState)(!1),[q,V]=(0,a.useState)(!1),[G,W]=(0,a.useState)(null),[J,K]=(0,a.useState)([]),[Z,Q]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(""),[ee,et]=(0,a.useState)(!1),ea=(0,r.useRouter)(),er=(0,a.useCallback)(async(e,t,a,r,s)=>{let l=localStorage.getItem("admin_token");if(!l)return void ea.push("/admin/login");let n=new URLSearchParams,i=e.trim();i&&n.set("q",i),n.set("page",t.toString()),n.set("limit",a),n.set("sort_by",r),n.set("sort_order",s);try{let e=await fetch(`/api/admin/players?${n.toString()}`,{headers:{Authorization:`Bearer ${l}`}});if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||"Failed to fetch players")}let t=await e.json();m(Array.isArray(t.data)?t.data:[]),I(t.total||0)}catch(e){console.error("[v0] Error fetching players:",e),m([]),I(0)}finally{_(!1)}},[ea]);(0,a.useEffect)(()=>{if(!localStorage.getItem("admin_token"))return void ea.push("/admin/login");_(!0);let e=setTimeout(()=>{er(D,P,U,$,H)},250);return()=>clearTimeout(e)},[ea,er,D,P,U,$,H]);let es=e=>{$===e?B("asc"===H?"desc":"asc"):(O(e),B("asc")),M(1)},el=async e=>{W(e),V(!0),Q(!0);let t=localStorage.getItem("admin_token");try{let a=await fetch(`/api/admin/players/${e.id}/logs`,{headers:{Authorization:`Bearer ${t}`}});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.error||"Failed to fetch logs")}let r=await a.json();K(Array.isArray(r)?r:[])}catch(e){console.error("[v0] Error fetching player logs:",e),K([])}finally{Q(!1)}},en=async t=>{if(!confirm("Are you sure you want to delete this player?"))return;let a=localStorage.getItem("admin_token");try{if(!(await fetch(`/api/admin/players/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok)throw Error("Failed to delete player");m(e.filter(e=>e.id!==t))}catch(e){console.error("[v0] Error deleting player:",e),alert("Failed to delete player")}},ei=async(t,a)=>{let r=localStorage.getItem("admin_token");try{if(!(await fetch(`/api/admin/players/${t}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({is_active:!a})})).ok)throw Error("Failed to update player status");m(e.map(e=>e.id===t?{...e,is_active:!a}:e))}catch(e){console.error("[v0] Error updating player status:",e),alert("Failed to update player status")}},eo=async()=>{if(!G||!X)return;if(X.length<6)return void alert("Password must be at least 6 characters");et(!0);let e=localStorage.getItem("admin_token");try{let t=await fetch(`/api/admin/players/${G.id}/password`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({password:X})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to update password")}alert("Password updated successfully"),F(!1),Y(""),W(null)}catch(e){console.error("[v0] Error updating password:",e),alert(e.message||"Failed to update password")}finally{et(!1)}},ec=async t=>{let a=localStorage.getItem("admin_token");try{let r=await fetch(`/api/admin/players/${t}/activate`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`}});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to activate user")}m(e.map(e=>e.id===t?{...e,is_active:!0}:e)),alert("User activated successfully")}catch(e){console.error("[v0] Error activating user:",e),alert(e.message||"Failed to activate user")}};return S?(0,t.jsxs)(l.SidebarProvider,{children:[(0,t.jsx)(s.AdminNav,{}),(0,t.jsxs)(l.SidebarInset,{className:"bg-muted/40",children:[(0,t.jsxs)("header",{className:"flex h-16 items-center gap-2 border-b bg-background px-4",children:[(0,t.jsx)(l.SidebarTrigger,{}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Players"})]}),(0,t.jsx)("div",{className:"flex min-h-[calc(100svh-4rem)] items-center justify-center",children:(0,t.jsx)("div",{className:"text-lg",children:"Loading..."})})]})]}):(0,t.jsxs)(l.SidebarProvider,{children:[(0,t.jsx)(s.AdminNav,{}),(0,t.jsxs)(l.SidebarInset,{className:"min-w-0 bg-muted/40",children:[(0,t.jsxs)("header",{className:"flex h-16 items-center gap-2 border-b bg-background px-4",children:[(0,t.jsx)(l.SidebarTrigger,{}),(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Players"})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 flex-1 min-w-[240px] max-w-md",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(g.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(c.Input,{placeholder:"Search players...",value:D,onChange:e=>{E(e.target.value),M(1)},className:"pl-8"})]})}),(0,t.jsxs)(o.Button,{onClick:()=>{if(!Array.isArray(e)||0===e.length)return void alert("No players data available to export");let t=new Blob([["Name,Email,Phone,Total Score,Games Played,Joined,Status",...e.map(e=>[`"${e.display_name||"N/A"}"`,`"${e.email||"N/A"}"`,`"${e.phone_number||"N/A"}"`,e.total_score,e.games_played,new Date(e.created_at).toLocaleDateString(),e.is_active?"Active":"Disabled"].join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(t);a.setAttribute("href",r),a.setAttribute("download",`players_${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},variant:"outline",className:"w-full sm:w-auto gap-2 bg-transparent shrink-0",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),"Export Excel"]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{children:["Player List (",R,")"]})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"w-full overflow-x-auto rounded-md border",children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("display_name"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Name","display_name"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("email"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Email","email"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("phone_number"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Phone","phone_number"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("total_score"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Total Score","total_score"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("games_played"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Games Played","games_played"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("created_at"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Joined","created_at"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"cursor-pointer select-none whitespace-nowrap",onClick:()=>es("is_active"),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["Status","is_active"===$?"asc"===H?(0,t.jsx)(v.ArrowUp,{className:"h-4 w-4"}):(0,t.jsx)(y.ArrowDown,{className:"h-4 w-4"}):(0,t.jsx)(w.ArrowUpDown,{className:"h-4 w-4 text-muted-foreground/50"})]})}),(0,t.jsx)(n.TableHead,{className:"text-right whitespace-nowrap",children:"Actions"})]})}),(0,t.jsx)(n.TableBody,{children:0===e.length?(0,t.jsx)(n.TableRow,{children:(0,t.jsx)(n.TableCell,{colSpan:8,className:"text-center",children:"No players found"})}):e.map(e=>(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableCell,{className:"whitespace-nowrap",children:e.display_name||"N/A"}),(0,t.jsx)(n.TableCell,{className:"text-sm text-muted-foreground whitespace-nowrap",children:e.email||"N/A"}),(0,t.jsx)(n.TableCell,{className:"whitespace-nowrap",children:e.phone_number||"N/A"}),(0,t.jsx)(n.TableCell,{className:"whitespace-nowrap",children:e.total_score}),(0,t.jsx)(n.TableCell,{className:"whitespace-nowrap",children:e.games_played}),(0,t.jsx)(n.TableCell,{className:"whitespace-nowrap",children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsx)(n.TableCell,{className:"whitespace-nowrap",children:(0,t.jsx)(o.Button,{variant:e.is_active?"default":"secondary",size:"sm",onClick:()=>ei(e.id,e.is_active),children:e.is_active?"Active":"Disabled"})}),(0,t.jsxs)(n.TableCell,{className:"text-right space-x-2 whitespace-nowrap",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>el(e),title:"View Logs",children:(0,t.jsx)(f,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{W(e),F(!0)},title:"Set Password",children:(0,t.jsx)(h,{className:"h-4 w-4"})}),!e.is_active&&(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>ec(e.id),title:"Activate User",className:"text-green-600 hover:text-green-700",children:(0,t.jsx)(p,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"destructive",size:"sm",onClick:()=>en(e.id),children:(0,t.jsx)(u.Trash2,{className:"h-4 w-4"})})]})]},e.id))})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 py-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium whitespace-nowrap",children:"Rows per page"}),(0,t.jsxs)(A.Select,{value:U,onValueChange:e=>{L(e),M(1)},children:[(0,t.jsx)(A.SelectTrigger,{className:"h-8 w-[70px]",children:(0,t.jsx)(A.SelectValue,{placeholder:U})}),(0,t.jsx)(A.SelectContent,{side:"top",children:["20","50","100","all"].map(e=>(0,t.jsx)(A.SelectItem,{value:e,children:"all"===e?"All":e},e))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",P," of ","all"===U?1:Math.ceil(R/parseInt(U))||1]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(o.Button,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>M(1),disabled:1===P,children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,t.jsx)(b.ChevronsLeft,{className:"h-4 w-4"})]}),(0,t.jsxs)(o.Button,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>M(P-1),disabled:1===P,children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,t.jsx)(j.ChevronLeft,{className:"h-4 w-4"})]}),(0,t.jsxs)(o.Button,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>M(P+1),disabled:"all"===U||P>=Math.ceil(R/parseInt(U)),children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,t.jsx)(N.ChevronRight,{className:"h-4 w-4"})]}),(0,t.jsxs)(o.Button,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>M(Math.ceil(R/parseInt(U))),disabled:"all"===U||P>=Math.ceil(R/parseInt(U)),children:[(0,t.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,t.jsx)(C.ChevronsRight,{className:"h-4 w-4"})]})]})]})]})]})]}),(0,t.jsx)(k.Dialog,{open:z,onOpenChange:F,children:(0,t.jsxs)(k.DialogContent,{children:[(0,t.jsxs)(k.DialogHeader,{children:[(0,t.jsxs)(k.DialogTitle,{children:["Set Password for ",G?.display_name||"Player"]}),(0,t.jsx)(k.DialogDescription,{children:"Enter a new password for this user. The password must be at least 6 characters."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"newPassword",children:"New Password"}),(0,t.jsx)(c.Input,{id:"newPassword",type:"password",value:X,onChange:e=>Y(e.target.value),placeholder:"Enter new password"})]}),(0,t.jsx)(o.Button,{onClick:eo,disabled:ee||!X,className:"w-full",children:ee?"Updating...":"Set Password"})]})]})}),(0,t.jsx)(k.Dialog,{open:q,onOpenChange:V,children:(0,t.jsxs)(k.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(k.DialogHeader,{children:[(0,t.jsxs)(k.DialogTitle,{children:["Activity Logs - ",G?.display_name||"Player"]}),(0,t.jsx)(k.DialogDescription,{children:"Device, browser, and location information for this player."})]}),(0,t.jsx)("div",{className:"py-4",children:Z?(0,t.jsx)("div",{className:"text-center py-8",children:"Loading logs..."}):0===J.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No logs found for this player."}):(0,t.jsx)("div",{className:"rounded-md border overflow-x-auto",children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableHead,{children:"Date"}),(0,t.jsx)(n.TableHead,{children:"Action"}),(0,t.jsx)(n.TableHead,{children:"IP Address"}),(0,t.jsx)(n.TableHead,{children:"Browser"}),(0,t.jsx)(n.TableHead,{children:"Device"}),(0,t.jsx)(n.TableHead,{children:"Location"})]})}),(0,t.jsx)(n.TableBody,{children:J.map(e=>(0,t.jsxs)(n.TableRow,{children:[(0,t.jsx)(n.TableCell,{className:"text-sm",children:new Date(e.created_at).toLocaleString()}),(0,t.jsx)(n.TableCell,{className:"capitalize",children:e.action}),(0,t.jsx)(n.TableCell,{className:"text-sm font-mono",children:e.ip_address||"N/A"}),(0,t.jsx)(n.TableCell,{className:"text-sm",children:e.browser||"N/A"}),(0,t.jsxs)(n.TableCell,{className:"text-sm",children:[e.device||"N/A"," ",e.os?`(${e.os})`:""]}),(0,t.jsx)(n.TableCell,{className:"text-sm",children:e.city&&e.country?`${e.city}, ${e.country}`:"N/A"})]},e.id))})]})})})]})}),(0,t.jsx)(T.AdminFooter,{})]})]})]})}e.s(["default",()=>S],48196)}]);